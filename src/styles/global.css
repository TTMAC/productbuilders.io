@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /*
   * Per UX Spec ยง5 - Inter for body text, JetBrains Mono for code
   * Using system fonts as fallback for fast initial render
   * Font files should be added to public/fonts/ directory
   */
  @font-face {
    font-family: 'Inter';
    src: url('/fonts/Inter-Variable.woff2') format('woff2');
    font-weight: 100 900;
    font-display: swap;
  }

  @font-face {
    font-family: 'JetBrains Mono';
    src: url('/fonts/JetBrainsMono-Variable.woff2') format('woff2');
    font-weight: 100 800;
    font-display: swap;
  }

  html {
    @apply font-sans;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-white text-gray-900 antialiased;
  }

  /* Improve text rendering */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-bold;
    text-rendering: optimizeLegibility;
  }
}

@layer components {
  /*
   * Per UX Spec ยง5.2 - Reading-optimized prose styles for article content
   * Target: comfortable reading experience for 2,000-2,500 word articles
   */
  .prose-custom {
    @apply prose prose-lg max-w-none;
    @apply prose-headings:font-bold prose-headings:text-gray-900 prose-headings:tracking-tight;
    @apply prose-h2:text-3xl prose-h2:mt-12 prose-h2:mb-4;
    @apply prose-h3:text-2xl prose-h3:mt-8 prose-h3:mb-3;
    @apply prose-p:text-gray-700 prose-p:leading-relaxed prose-p:mb-6;
    @apply prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline;
    @apply prose-strong:text-gray-900 prose-strong:font-semibold;
    @apply prose-code:text-sm prose-code:bg-gray-100 prose-code:text-gray-800;
    @apply prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded prose-code:font-mono;
    @apply prose-pre:bg-gray-900 prose-pre:text-gray-100 prose-pre:rounded-lg;
    @apply prose-pre:p-4 prose-pre:overflow-x-auto;
    @apply prose-ul:my-6 prose-ul:list-disc prose-ul:pl-6;
    @apply prose-ol:my-6 prose-ol:list-decimal prose-ol:pl-6;
    @apply prose-li:my-2;
    @apply prose-blockquote:border-l-4 prose-blockquote:border-blue-500;
    @apply prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-gray-600;
  }

  /*
   * Reusable button styles
   * Per UX Spec - consistent button styling across the platform
   */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg;
    @apply font-medium text-sm transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  }

  .btn-primary {
    @apply bg-blue-600 text-white hover:bg-blue-700;
    @apply focus:ring-blue-500;
  }

  .btn-secondary {
    @apply bg-gray-200 text-gray-800 hover:bg-gray-300;
    @apply focus:ring-gray-400;
  }

  /*
   * Per CLAUDE.md - Exact discipline badge colors
   * PM: #3B82F6 (blue), Design: #8B5CF6 (purple), Engineering: #10B981 (green)
   * Light backgrounds for contrast, dark text for readability
   */
  .badge-pm {
    @apply bg-pm-light text-pm-dark px-3 py-1 rounded-full text-sm font-medium;
    @apply transition-colors duration-200;
  }

  .badge-design {
    @apply bg-design-light text-design-dark px-3 py-1 rounded-full text-sm font-medium;
    @apply transition-colors duration-200;
  }

  .badge-engineering {
    @apply bg-engineering-light text-engineering-dark px-3 py-1 rounded-full text-sm font-medium;
    @apply transition-colors duration-200;
  }

  /* Hover states for interactive badges */
  a .badge-pm:hover {
    @apply bg-pm text-white;
  }

  a .badge-design:hover {
    @apply bg-design text-white;
  }

  a .badge-engineering:hover {
    @apply bg-engineering text-white;
  }

  /*
   * Card styles for consistent component styling
   */
  .card {
    @apply bg-white rounded-lg shadow-md overflow-hidden;
    @apply transition-shadow duration-200 hover:shadow-lg;
  }

  /*
   * Line clamp utilities for truncating text
   * Used in article cards for description preview
   */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

@layer utilities {
  /*
   * Custom focus styles for accessibility
   * Per WCAG 2.1 - visible focus indicators
   */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
  }

  /*
   * Smooth scrolling for anchor links
   */
  .scroll-smooth {
    scroll-behavior: smooth;
  }
}
